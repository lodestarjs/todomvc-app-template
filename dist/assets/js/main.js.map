{"version":3,"file":"main.js","sources":["helpers/ractiveHelpers.js","views/IndexView.js","helpers/helpers.js","controllers/IndexController.js","controllers/StateController.js","main.js"],"sourcesContent":["export function filterItem(item, filter) {\n\n  if ( filter === 'all' ) {\n    return item;\n  } else if ( !filter && !item.completed ) {\n    return item;\n  } else if ( filter && item.completed ) {\n    return item;\n  }\n\n};\n\nexport function completed() {\n  return this.get('todo.items').filter(function( item ) {\n    return item.completed;\n  });\n}","export default {\n  el: 'main',\n  template: document.querySelector('.todoapp').outerHTML,\n  data: localStorage.indexData ? JSON.parse(localStorage.indexData) : { 'todo': { 'items': [], 'active': 'all' } },\n  transitions: {\n    select: function ( el ) {\n      setTimeout( function () {\n        el.node.select()\n      }, 0 );\n    }\n  }\n}","export function removeAll(className) {\n\n  [].forEach.call(document.querySelectorAll(className), function(el) {\n      el.classList.remove(className.replace('.', ''));\n  });\n\n}","import { removeAll } from '../helpers/helpers.js';\n\nexport default {\n\n  controller: function() {\n    removeAll('.hide');\n    removeAll('.cloak');\n    this.set('todo.active', 'all');\n    window.addEventListener(\"beforeunload\", () =>  {\n      localStorage.indexData = JSON.stringify(this.get());\n    });\n  },\n\n  actions: {\n\n    add: function( event, inputVal ) {\n      if ( inputVal.length ) {\n        this.push( 'todo.items', { task: inputVal } );\n        this.set('todo.input', '');\n      }\n\n      this.fire('lengthCheck');\n\n      return false;\n    },\n\n    clear: function() {\n      var items = this.get('todo.items'), i = items.length;\n      while ( i-- ) {\n        if (items[i].completed) {\n          items.splice(i, 1);\n        }\n      }\n    },\n\n    editFocus: function(el) {\n      this.toggle(el.keypath + '.editing');\n      el.node.parentNode.querySelector('.edit').focus();\n      return false;\n    },\n\n    toggleChecked: function ( event ) {\n      var i = this.get( 'todo.items' ).length;\n      while ( i-- ) {\n        this.set('todo.items.' + i + '.completed', event.node.checked);\n      }\n    },\n\n    lengthCheck: function() {\n\n      this.set('todo.currentLength', this.get('todo.items').filter(function(item) {\n        return item.completed !== true;\n      }).length);\n\n      this.set('todo.finishedLength', this.get('todo.items').filter(function(item) {\n        return item.completed === true;\n      }).length);\n\n    }\n\n  },\n\n  observe: {\n\n    '*.completed': function() {\n      this.fire('lengthCheck');\n    }\n\n  }\n\n};","export default {\n\n  controller: function( data ) {\n    this.getParent().set('todo.active', data.state === 'completed' ? true : false);\n  }\n\n};","// Controllers\nimport IndexController from './controllers/IndexController';\nimport StateController from './controllers/StateController';\n\n// Views\nimport IndexView from './views/IndexView';\n\n// Helpers\nimport * as helpers from './helpers/ractiveHelpers';\n\n// Main - init and routes\nlet App = new LodeRactive({ DEBUG: false });\nRactive.defaults.data = helpers;\n\nApp.createRoute({\n  path: '/',\n  controller: IndexController,\n  view: IndexView\n});\n\nApp.createRoute({\n  path: '[/]:state',\n  controller: StateController\n});"],"names":[],"mappings":"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","sourceRoot":"/source/"}